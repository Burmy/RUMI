{"ast":null,"code":"var _jsxFileName = \"/Users/alanchuang/Desktop/SFSU/Fall 2021/CSC 648 SE/csc648-fa21-02-team01/application/rumi/frontend/src/Components/Home/Home.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./Home.css\"; // import { logo } from \"../../../../backend/public/upload/image1.jpeg\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Home() {\n  _s();\n\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [listOfPosts, setListOfPosts] = useState([]);\n  let history = useHistory();\n  useEffect(() => {\n    axios.get(`http://localhost:3001/posts?search`).then(response => {\n      console.log(response.data.results);\n      setListOfPosts(response.data.results);\n    }).catch(error => {\n      console.error(error);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"search\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        class: \"search-text\",\n        placeholder: \"Search a post!\",\n        onChange: event => {\n          setSearchTerm(event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        class: \"search-button\",\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"category\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-category\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"search-category-option\",\n          children: \"Select Location: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"search-category-select\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Los Angeles\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"San Francisco\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"San Diego\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Finance\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-category\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"search-category-option\",\n          children: \"Select Major: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"search-category-select\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Computer Science\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"English Literature\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post-container\",\n      children: listOfPosts.filter(val => {\n        if (searchTerm === \"\") {\n          return val;\n        } else if (val.caption.toLowerCase().includes(searchTerm.toLowerCase()) || val.description.toLowerCase().includes(searchTerm.toLowerCase())) {\n          return val;\n        }\n\n        return false;\n      }).map((value, key) => {\n        value.created_date = new Date(value.created_date).toDateString();\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"post-card\",\n            onClick: () => {\n              history.push(`/post/${value.id}`);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"post-image\",\n              src: `http://localhost:3001/files/download?name=${value.photo}`,\n              alt: \"Missing\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post-price-container\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"post-price\",\n                children: [\"$\", value.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post-info-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"post-caption\",\n                children: value.caption\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"post-desc\",\n                children: value.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"post-date\",\n                children: value.created_date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 33\n          }, this)\n        }, value.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 29\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Home, \"rB7ldzM9spWBJwpR9UsyMs+6aAA=\", false, function () {\n  return [useHistory];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/alanchuang/Desktop/SFSU/Fall 2021/CSC 648 SE/csc648-fa21-02-team01/application/rumi/frontend/src/Components/Home/Home.js"],"names":["React","axios","useEffect","useState","useHistory","Home","searchTerm","setSearchTerm","listOfPosts","setListOfPosts","history","get","then","response","console","log","data","results","catch","error","event","target","value","filter","val","caption","toLowerCase","includes","description","map","key","created_date","Date","toDateString","push","id","photo","price"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAO,YAAP,C,CACA;;;;AAEA,SAASC,IAAT,GAAgB;AAAA;;AACZ,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BJ,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACK,WAAD,EAAcC,cAAd,IAAgCN,QAAQ,CAAC,EAAD,CAA9C;AAEA,MAAIO,OAAO,GAAGN,UAAU,EAAxB;AACAF,EAAAA,SAAS,CAAC,MAAM;AACZD,IAAAA,KAAK,CACAU,GADL,CACU,oCADV,EAEKC,IAFL,CAEWC,QAAD,IAAc;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAAT,CAAcC,OAA1B;AACAR,MAAAA,cAAc,CAACI,QAAQ,CAACG,IAAT,CAAcC,OAAf,CAAd;AACH,KALL,EAMKC,KANL,CAMYC,KAAD,IAAW;AACdL,MAAAA,OAAO,CAACK,KAAR,CAAcA,KAAd;AACH,KARL;AASH,GAVQ,EAUN,EAVM,CAAT;AAYA,sBACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA,4BACI;AAAK,MAAA,KAAK,EAAC,QAAX;AAAA,8BACI;AACI,QAAA,IAAI,EAAC,MADT;AAEI,QAAA,KAAK,EAAC,aAFV;AAGI,QAAA,WAAW,EAAC,gBAHhB;AAII,QAAA,QAAQ,EAAGC,KAAD,IAAW;AACjBb,UAAAA,aAAa,CAACa,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAb;AACH;AANL;AAAA;AAAA;AAAA;AAAA,cADJ,eASI;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,KAAK,EAAC,eAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cATJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAiBI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA,gCACI;AAAG,UAAA,SAAS,EAAC,wBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAQ,UAAA,SAAS,EAAC,wBAAlB;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAWI;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA,gCACI;AAAG,UAAA,SAAS,EAAC,wBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAQ,UAAA,SAAS,EAAC,wBAAlB;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAXJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAjBJ,eAqCI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA,gBACKd,WAAW,CACPe,MADJ,CACYC,GAAD,IAAS;AACb,YAAIlB,UAAU,KAAK,EAAnB,EAAuB;AACnB,iBAAOkB,GAAP;AACH,SAFD,MAEO,IACHA,GAAG,CAACC,OAAJ,CAAYC,WAAZ,GAA0BC,QAA1B,CAAmCrB,UAAU,CAACoB,WAAX,EAAnC,KACAF,GAAG,CAACI,WAAJ,CAAgBF,WAAhB,GAA8BC,QAA9B,CAAuCrB,UAAU,CAACoB,WAAX,EAAvC,CAFG,EAGL;AACE,iBAAOF,GAAP;AACH;;AACD,eAAO,KAAP;AACH,OAXJ,EAYIK,GAZJ,CAYQ,CAACP,KAAD,EAAQQ,GAAR,KAAgB;AACjBR,QAAAA,KAAK,CAACS,YAAN,GAAqB,IAAIC,IAAJ,CAASV,KAAK,CAACS,YAAf,EAA6BE,YAA7B,EAArB;AACA,4BACI;AAAA,iCACI;AACI,YAAA,SAAS,EAAC,WADd;AAEI,YAAA,OAAO,EAAE,MAAM;AACXvB,cAAAA,OAAO,CAACwB,IAAR,CAAc,SAAQZ,KAAK,CAACa,EAAG,EAA/B;AACH,aAJL;AAAA,oCAMI;AACI,cAAA,SAAS,EAAC,YADd;AAEI,cAAA,GAAG,EAAG,6CAA4Cb,KAAK,CAACc,KAAM,EAFlE;AAGI,cAAA,GAAG,EAAC;AAHR;AAAA;AAAA;AAAA;AAAA,oBANJ,eAWI;AAAK,cAAA,SAAS,EAAC,sBAAf;AAAA,qCACI;AAAK,gBAAA,SAAS,EAAC,YAAf;AAAA,gCAA8Bd,KAAK,CAACe,KAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBAXJ,eAcI;AAAK,cAAA,SAAS,EAAC,qBAAf;AAAA,sCACI;AAAK,gBAAA,SAAS,EAAC,cAAf;AAAA,0BAA+Bf,KAAK,CAACG;AAArC;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAK,gBAAA,SAAS,EAAC,WAAf;AAAA,0BAA4BH,KAAK,CAACM;AAAlC;AAAA;AAAA;AAAA;AAAA,sBAFJ,eAGI;AAAK,gBAAA,SAAS,EAAC,WAAf;AAAA,0BAA4BN,KAAK,CAACS;AAAlC;AAAA;AAAA;AAAA;AAAA,sBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBAdJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,WAAUT,KAAK,CAACa,EAAhB;AAAA;AAAA;AAAA;AAAA,gBADJ;AAwBH,OAtCJ;AADL;AAAA;AAAA;AAAA;AAAA,YArCJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAiFH;;GAlGQ9B,I;UAISD,U;;;KAJTC,I;AAoGT,eAAeA,IAAf","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./Home.css\";\n// import { logo } from \"../../../../backend/public/upload/image1.jpeg\";\n\nfunction Home() {\n    const [searchTerm, setSearchTerm] = useState(\"\");\n    const [listOfPosts, setListOfPosts] = useState([]);\n\n    let history = useHistory();\n    useEffect(() => {\n        axios\n            .get(`http://localhost:3001/posts?search`)\n            .then((response) => {\n                console.log(response.data.results);\n                setListOfPosts(response.data.results);\n            })\n            .catch((error) => {\n                console.error(error);\n            });\n    }, []);\n\n    return (\n        <div className=\"home\">\n            <div class=\"search\">\n                <input\n                    type=\"text\"\n                    class=\"search-text\"\n                    placeholder=\"Search a post!\"\n                    onChange={(event) => {\n                        setSearchTerm(event.target.value);\n                    }}\n                />\n                <button type=\"submit\" class=\"search-button\">\n                    Search\n                </button>\n            </div>\n\n            {/* Connect it to the backend */}\n\n            <div className=\"category\">\n                <div className=\"search-category\">\n                    <p className=\"search-category-option\">Select Location: </p>\n                    <select className=\"search-category-select\">\n                        <option>Los Angeles</option>\n                        <option>San Francisco</option>\n                        <option>San Diego</option>\n                        <option>Finance</option>\n                    </select>\n                </div>\n\n                <div className=\"search-category\">\n                    <p className=\"search-category-option\">Select Major: </p>\n                    <select className=\"search-category-select\">\n                        <option>Computer Science</option>\n                        <option>English Literature</option>\n                    </select>\n                </div>\n            </div>\n\n            <div className=\"post-container\">\n                {listOfPosts\n                    .filter((val) => {\n                        if (searchTerm === \"\") {\n                            return val;\n                        } else if (\n                            val.caption.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                            val.description.toLowerCase().includes(searchTerm.toLowerCase())\n                        ) {\n                            return val;\n                        }\n                        return false;\n                    })\n                    .map((value, key) => {\n                        value.created_date = new Date(value.created_date).toDateString();\n                        return (\n                            <div key={value.id}>\n                                <div\n                                    className=\"post-card\"\n                                    onClick={() => {\n                                        history.push(`/post/${value.id}`);\n                                    }}\n                                >\n                                    <img\n                                        className=\"post-image\"\n                                        src={`http://localhost:3001/files/download?name=${value.photo}`}\n                                        alt=\"Missing\"\n                                    />\n                                    <div className=\"post-price-container\">\n                                        <div className=\"post-price\">${value.price}</div>\n                                    </div>\n                                    <div className=\"post-info-container\">\n                                        <div className=\"post-caption\">{value.caption}</div>\n                                        <div className=\"post-desc\">{value.description}</div>\n                                        <div className=\"post-date\">{value.created_date}</div>\n                                    </div>\n                                </div>\n                            </div>\n                        );\n                    })}\n            </div>\n        </div>\n    );\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}